# Master Orchestrator Agent Configuration
# Version: 1.0
# Date: 2025-10-30

moa:
  # Basic settings
  agent_id: "MOA"
  name: "Master Orchestrator Agent"
  log_level: "INFO"
  debug_mode: false

  # Timing settings
  report_interval_seconds: 3600  # 1 hour
  status_check_interval_seconds: 300  # 5 minutes
  integration_timeout_seconds: 1800  # 30 minutes

  # Project settings
  project_name: "Meta-Recursive Multi-Agent Orchestration"
  total_weeks: 11
  target_completion_week: 11

  # Agent settings
  max_parallel_integrations: 3
  auto_resolve_conflicts: true
  require_tests_for_integration: true
  minimum_test_coverage: 90.0

  # Git settings
  git_remote: "origin"
  develop_branch: "develop"
  main_branch: "main"
  agent_branch_prefix: "agent-"

  # Integration settings
  require_dependency_completion: true
  allow_force_integration: false
  integration_test_timeout_seconds: 600  # 10 minutes

  # Notification settings
  enable_notifications: true
  notification_email: ""  # Set to enable email notifications
  slack_webhook_url: ""   # Set to enable Slack notifications

  # Monitoring settings
  enable_health_checks: true
  health_check_interval_seconds: 60
  alert_on_blockers: true
  alert_on_failures: true
  alert_on_delays: true

  # Performance targets
  target_integration_time_seconds: 7200  # 2 hours
  target_conflict_resolution_time_seconds: 14400  # 4 hours
  target_test_coverage: 90.0

agents:
  # Agent registry with metadata
  registry:
    "01":
      name: "Infrastructure"
      type: "foundation"
      priority: 1
      estimated_effort_weeks: 2
      dependencies: []
      critical_path: true

    "02":
      name: "Database"
      type: "foundation"
      priority: 2
      estimated_effort_weeks: 2
      dependencies: ["01"]
      critical_path: true

    "03":
      name: "Core Engine"
      type: "core"
      priority: 3
      estimated_effort_weeks: 3
      dependencies: ["01", "02"]
      critical_path: true

    "04":
      name: "API Layer"
      type: "interface"
      priority: 4
      estimated_effort_weeks: 2
      dependencies: ["01", "02", "03"]
      critical_path: true

    "05":
      name: "Frontend"
      type: "interface"
      priority: 5
      estimated_effort_weeks: 3
      dependencies: ["01", "04"]
      critical_path: true

    "06":
      name: "Agent Framework"
      type: "core"
      priority: 6
      estimated_effort_weeks: 3
      dependencies: ["01", "02", "03"]
      critical_path: true

    "07":
      name: "LLM Integration"
      type: "core"
      priority: 7
      estimated_effort_weeks: 2
      dependencies: ["01"]
      critical_path: false

    "08":
      name: "Monitoring"
      type: "operations"
      priority: 8
      estimated_effort_weeks: 2
      dependencies: ["01", "02"]
      critical_path: false

    "09":
      name: "Testing"
      type: "quality"
      priority: 9
      estimated_effort_weeks: 2
      dependencies: ["01"]
      critical_path: false

    "10":
      name: "Documentation"
      type: "operations"
      priority: 10
      estimated_effort_weeks: 1
      dependencies: []
      critical_path: false

    "11":
      name: "Deployment"
      type: "operations"
      priority: 11
      estimated_effort_weeks: 2
      dependencies: ["01", "02", "03", "04", "05", "08", "09"]
      critical_path: true

    "12":
      name: "Security"
      type: "security"
      priority: 12
      estimated_effort_weeks: 2
      dependencies: []
      critical_path: false

  # Agent port allocations (must match docker-compose files)
  ports:
    "01":
      backend: 8001
      postgres: 5401
      neo4j: 7401
      redis: 6301
      ollama: 11401
      frontend: 3001

    "02":
      backend: 8002
      postgres: 5402
      neo4j: 7402
      redis: 6302
      ollama: 11402
      frontend: 3002

    "03":
      backend: 8003
      postgres: 5403
      neo4j: 7403
      redis: 6303
      ollama: 11403
      frontend: 3003

    "04":
      backend: 8004
      postgres: 5404
      neo4j: 7404
      redis: 6304
      ollama: 11404
      frontend: 3004

    "05":
      backend: 8005
      postgres: 5405
      neo4j: 7405
      redis: 6305
      ollama: 11405
      frontend: 3005

    "06":
      backend: 8006
      postgres: 5406
      neo4j: 7406
      redis: 6306
      ollama: 11406
      frontend: 3006

    "07":
      backend: 8007
      postgres: 5407
      neo4j: 7407
      redis: 6307
      ollama: 11407
      frontend: 3007

    "08":
      backend: 8008
      postgres: 5408
      neo4j: 7408
      redis: 6308
      ollama: 11408
      frontend: 3008

    "09":
      backend: 8009
      postgres: 5409
      neo4j: 7409
      redis: 6309
      ollama: 11409
      frontend: 3009

    "10":
      backend: 8010
      postgres: 5410
      neo4j: 7410
      redis: 6310
      ollama: 11410
      frontend: 3010

    "11":
      backend: 8011
      postgres: 5411
      neo4j: 7411
      redis: 6311
      ollama: 11411
      frontend: 3011

    "12":
      backend: 8012
      postgres: 5412
      neo4j: 7412
      redis: 6312
      ollama: 11412
      frontend: 3012

# Timeline milestones
timeline:
  milestones:
    week_2:
      name: "Foundation Complete"
      description: "Agents 01-02 integrated, basic infrastructure ready"
      required_agents: ["01", "02"]
      success_criteria:
        - "All foundation agents integrated"
        - "Basic Docker setup working"
        - "Database schema deployed"

    week_5:
      name: "Core Systems Complete"
      description: "Agents 03, 06, 07 integrated, core orchestration working"
      required_agents: ["03", "06", "07"]
      success_criteria:
        - "Task processing engine working"
        - "Agent communication established"
        - "LLM integration functional"

    week_7:
      name: "Interface Layer Complete"
      description: "Agents 04-05 integrated, user interfaces working"
      required_agents: ["04", "05"]
      success_criteria:
        - "REST API functional"
        - "Frontend can communicate with backend"
        - "Basic UI workflows working"

    week_10:
      name: "Production Ready"
      description: "All critical agents integrated, deployment ready"
      required_agents: ["08", "09", "11"]
      success_criteria:
        - "Monitoring and alerting working"
        - "Comprehensive test suite passing"
        - "Deployment pipeline functional"

    week_11:
      name: "Full System Launch"
      description: "All agents integrated, system production-ready"
      required_agents: ["10", "12"]  # Documentation and Security
      success_criteria:
        - "Complete documentation"
        - "Security hardening applied"
        - "Performance benchmarks met"
        - "99.9% uptime achieved"

# Success metrics
metrics:
  targets:
    integration_success_rate: 95.0  # Percentage
    average_integration_time_hours: 2.0
    conflict_resolution_time_hours: 4.0
    test_coverage_minimum: 90.0
    uptime_target: 99.9  # Percentage
    response_time_p95_ms: 100.0
    error_rate_maximum: 0.1  # Percentage

  tracking:
    enabled: true
    retention_days: 90
    export_formats: ["json", "csv", "html"]

# Integration rules
integration:
  rules:
    require_clean_git_status: true
    require_passing_tests: true
    require_dependency_completion: true
    allow_partial_integration: false
    require_code_review: true
    require_documentation: true

  auto_resolution:
    enabled: true
    conflict_types:
      - "resource_allocation"
      - "port_assignment"
      - "dependency_version"

# Notification templates
notifications:
  templates:
    integration_success: |
      üéâ **Integration Successful!**

      Agent {agent_id} ({agent_name}) has been successfully integrated.

      **Details:**
      - Tests Passed: {tests_passed}/{tests_total}
      - Coverage: {coverage}%
      - Merged to: {target_branch}

      **Next Steps:**
      - Notify team members
      - Update documentation
      - Plan next integration

    integration_failed: |
      ‚ùå **Integration Failed**

      Agent {agent_id} ({agent_name}) integration failed.

      **Issues:**
      {error_details}

      **Action Required:**
      - Review test failures
      - Fix blocking issues
      - Re-attempt integration

    conflict_detected: |
      ‚ö†Ô∏è **Conflict Detected**

      Conflict detected between Agent {agent1} and Agent {agent2}.

      **Type:** {conflict_type}
      **Severity:** {severity}

      **Resolution:** {resolution_status}

  channels:
    email:
      enabled: false
      smtp_server: ""
      recipients: []

    slack:
      enabled: false
      webhook_url: ""
      channel: "#moa-notifications"

# Emergency procedures
emergency:
  enabled: true
  auto_rollback: false  # Set to true to enable automatic rollback on failures
  emergency_contacts:
    - name: "MOA Administrator"
      email: "admin@company.com"
      phone: ""

  escalation_levels:
    level_1: "Retry integration"
    level_2: "Manual conflict resolution"
    level_3: "Emergency rollback"
    level_4: "System restart"
